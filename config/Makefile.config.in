#
# Common rules and values used by all xosview Makefiles.
#
# The configure script should set up this file for most all cases.
# One can override compile / link options here if needed.
#
# $Id$
#

TOP = @TOP_SRCDIR@

#-----------------------------------------------------------------
# C++ compiler
#-----------------------------------------------------------------
CXX           = @CXX@

#-----------------------------------------------------------------
# Compiler flags
#-----------------------------------------------------------------

# Optimized CXXFLAGS
CXXFLAGS      += $(CFLAGS) -Wall -O4 -pipe -I@x_includes@ \
                -I$(TOP) -I$(TOP)/@host_os@ @DEFS@
# DEBUG CXXFLAGS
#CXXFLAGS      += $(CFLAGS) -Wall -ggdb -pipe -I@x_includes@ \
#                -I$(TOP) -I$(TOP)/@host_os@ @DEFS@
# PROFILE CXXFLAGS
#CXXFLAGS      += $(CFLAGS) -Wall -ggdb -pg -pipe -I@x_includes@ \
#                -I$(TOP) -I$(TOP)/@host_os@ @DEFS@

#-----------------------------------------------------------------
# Link flags and libraries
#-----------------------------------------------------------------

# NORMAL LIBS
LFLAGS        += -L$(TOP)/@host_os@ -L@x_libraries@
LIBS          += -lmeter -lX11 @EXTRALIBS@

# DEBUG LIBS
#LFLAGS        += -L$(TOP)/@host_os@ -L@x_libraries@ -static
#LIBS          += -lmeter -lX11 @EXTRALIBS@

# PROFILE LIBS
#LFLAGS        += -L$(TOP)/@host_os@ -L@x_libraries@ -pg
#LIBS          += -lmeter -lX11 @EXTRALIBS@ -lgmon

#-----------------------------------------------------------------
# Rules
#-----------------------------------------------------------------
##  The GNU-style rule of %.o: %.cc is not as portable as .cc.o.
.cc.o:
	$(CXX) $(CXXFLAGS) -c $< -o $@

@AUTODEPRULE@
